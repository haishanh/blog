<!DOCTYPE html><html><head><title>如何在Cygwin中使用Z-shell | Carlog</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><link rel="alternate" href="atom.xml" type="application/atom+xml"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/main.css" type="text/css"></head><body><header><div class="wrapper"><a href="/" class="site-title"><code>Carlog</code></a><div class="menu"><span class="hamburger"><span></span></span></div><nav role="navigation" class="nav"><a href="/">Home</a><a href="/archives">Archives</a><a href="/atom.xml">RSS</a></nav></div></header><section class="main post"><div class="wrapper clearfix"><div class="post-header"><h2 class="post-title"><a href="/2013/zsh_in_cygwin/">如何在Cygwin中使用Z-shell</a></h2><time datetime="2013-07-09T14:53:53.000Z">July 9, 2013</time></div><div class="post-content"><p><img src="http://7fva40.com1.z0.glb.clouddn.com/zsh-in-cygwin.PNG" alt="zsh-in-cygwin"></p>
<p><a href="http://www.cygwin.com/" target="_blank" rel="external">Cygwin</a>是个很牛逼的东西。Cygwin是Unix上的许多自由软件在Microsoft Windows上的实现。通过Cygwin，你就可以在Windows上使用你在Unix或Linux上熟悉的各种（不是全部）shell命令了。</p>
<a id="more"></a>   
<p>你在安装Cygwin（就是那个setup.exe文件）时，在Select Packages步骤，可以通过搜索安装你想要装的软件包，比如说 你可以通过选择<code>Editers</code>下的<code>vim</code>来安装VIM。要注意不要选择错了就行，每个软件包Package栏会有该软件的名字和介绍，VIM的话是<code>vim: Vi IMproved - enhanced vi editor</code>。当你安装完发现你少装了某个包时，你完全可以再运行setup.exe，然后只选择你要安装的那个包就行了。<br>Z-Shell是众多shell中的一个，补全功能比bash要强太多，同时命令和配置文件也都是兼容的。这个<a href="https://github.com/robbyrussell/oh-my-zsh" target="_blank" rel="external">oh-my-zsh</a>是用来方便管理Z-Shell配置的，能让你更方便的使用插件和主题。要想在cygwin中用Z-Shell，其实就是在Select Packages时搜索<code>zsh</code>，选中<code>Shells</code>下的<code>zsh: The Z-Shell</code>。为了能方便的用oh-my-zsh,也要安装一下<code>Net</code>下的<code>curl</code>包。安装完后你运行<code>zsh</code>就应该可以进入Z-Shell环境了。退出Z-Shell，在Bash中运行以下命令： </p>
<pre><code>curl -L https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh | sh    
</code></pre><p>oh-my-zsh会自动安装好，在Linux下通过：</p>
<pre><code>chsh -s /bin/zsh       
</code></pre><p>可以让Z-Shell成为默认Shell，但cygwin下没有这条命令。但你可以更改/etc/passwd文件来达到更改用户shell的效果。     </p>
<pre><code>vim /etc/passwd
</code></pre><p>将你的用户名所在行中的<code>/bin/bash</code>改为<code>/bin/zsh</code>即可。oh-my-zsh中的内置主题列表可以参看<a href="https://github.com/robbyrussell/oh-my-zsh/wiki/Themes" target="_blank" rel="external">这个页面</a>，我比较喜欢<code>ys</code>主题，直接将<code>~/.zshrc</code>中的<code>ZSH_THEME</code>值设置为<code>ys</code>即可。还是可以给cygwin terminal设置下背景色，字体等，terminal中间右击选择options设置相应参数即可。我在Windows上装了Monaco字体，选择10-point大小，背景色设置成<code>R=35, G=58, B=64</code>，透明度选择<code>Med.</code>。对了，我在用<code>ys</code>主题时，提示符中本应该显示我hostname的地方却显示不出来，但cygwin terminal的标题栏上却正常显示hostname信息，weird.    </p>
<p>–EOF–</p>
</div><div class="post-footer">Updated on 16/07/10</div></div><div class="post-nav"><div style="height: 0; width: 0; position: absolute; visibility: hidden">
  <!-- inject:svg --><svg xmlns="http://www.w3.org/2000/svg"><symbol id="ic_chevron_left_white_24px" viewBox="0 0 24 24">
    <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</symbol><symbol id="ic_chevron_right_white_24px" viewBox="0 0 24 24">
    <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</symbol></svg><!-- endinjected -->
</div><a href="/test/test/" class="nav prev"><svg class="icon left"><use xlink:href="#ic_chevron_left_white_24px"></use></svg>PREVIOUS</a><a href="/2013/Goodbye_Google_Reader/" class="nav next">NEXT<svg class="icon right"><use xlink:href="#ic_chevron_right_white_24px"></use></svg></a></div></section><footer><h3>Carlog</h3><div class="additional"><span>&copy;</span> 2016 <a href="http://hanhaishan.com">Haishan</a><br> Powered by <a href="https://hexo.io">Hexo</a>, theme using <a href="https://github.com/haishanh/hexo-theme-zxcvb">zxcvb</a>, hosted by <a href="https://github.com/haishanh/blog/tree/gh-pages">Github Pages</a></div></footer><script src="/js/script.js"></script></body></html>