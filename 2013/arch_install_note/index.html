<!DOCTYPE html><html><head><title>Arch安装小记 | Carlog</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><link rel="alternate" href="atom.xml" type="application/atom+xml"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/main.css" type="text/css"></head><body><header><div class="wrapper"><a href="/" class="site-title"><code>Carlog</code></a><div class="menu"><span class="hamburger"><span></span></span></div><nav role="navigation" class="nav"><a href="/">Home</a><a href="/archives">Archives</a><a href="/atom.xml">RSS</a></nav></div></header><section class="main post"><div class="wrapper clearfix"><div class="post-header"><h2 class="post-title"><a href="/2013/arch_install_note/">Arch安装小记</a></h2><time datetime="2013-08-12T09:32:27.000Z">August 12, 2013</time></div><div class="post-content"><p><img src="http://7fva40.com1.z0.glb.clouddn.com/archlinux-logo.png" alt="archlinux-log"></p>
<p>在Windows上用VirtualBox尝试了<a href="https://www.archlinux.org/" target="_blank" rel="external">Arch Linux</a>，在体验一段时间就立马就喜欢上了这个系统。AUR的存在，使得安装软件方便了太多，原来ubuntu时，安装个软件总是会有这样那样的问题。任何你想安装的软件xxx，你都可以在Arch上用<code>yaourt -S xxx</code>来查找并安装。如果你喜欢自己编译安装，在Arch上你也完全有这个自由。当然了，Arch的优点还有很多，但上面这一点，就足以让我产生替换ubuntu的冲动。</p>
<p>原来笔记本上安装的时ubuntu，于是就寻思着利用周末的时候安装一下Arch。Arch有这非常详尽的wiki，中文wiki也很全，<a href="https://wiki.archlinux.org/index.php/Beginners&#39;_Guide_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" target="_blank" rel="external">Beginners’ Guide</a>上有详细的安装说明，而且大部分的操作都给出相关的解释以及其他的选项，所以安装起来并不困难。当然还是比安装ubuntu要复杂多了，毕竟ubuntu的安装过程是GUI的。对于我来说最大的问题是网络的问题，折腾了很久很久（真的是很久==）才搞定，所以这篇文章对于我来说也是个备忘，下次安装的时候可以参考。</p>
<a id="more"></a>
<p>安装时的Live环境下，在我的笔记本上不需任何操作就可以联网，但每次安装完reboot后，进入系统就怎么也连不上网，<code>dhcpcd</code>的操作也无效，<code>ip link</code> 连无线网卡都看不到，只有有线网卡。好吧第一次也许是我的姿势不对，于是我又安装了第二次，这次仔细看了Beginners’ Guide里关于网络配置部分的说明，安装完后还是不行。第三次在安装时，由于在格式化分区时不小心把<code>mkfs.ext4 /dev/sda3</code>直接写出了<code>mkfs.ext4 /dev/sda1</code>，尼玛，我的Windows 8 就这样被毁了，于是还要重新安装Windows，而且安装Windows时，可能因为mkfs.ext4格式化的问题，安装Windows用的U盘在读取之后，却又无法安装，最后进PE才安装好Windows。于是再来安装Arch，于是就是几个反复的轮回。最后查到我的Realtek RTL8111/8169网卡也有别人遇到类似问题，于是有说Arch内置的r8169模块用不了，需要r8168模块，于是在Realtek官网下载到r8168，但内置的autorun.sh运行出错。最后发现AUR里有r8168模块，安装之，尼玛，还是不能上网。最后看到Network的wiki页面上说如果<code>dhcpcd</code>用不了，可以试试<code>dhclient</code>这个包，你知道，每次我都要在安装时的Live环境下才能联网，才能下载东西，所以真的是反复了很多轮回啊。终于<code>dhcpcd &lt;interface&gt;</code>可以了。</p>
<p>我的无线网卡时Broadcom的BCM4312，因为在<code>ip link</code>命令时，根本就看不到我的无线网卡的interface，然后又去查Arch的<a href="https://wiki.archlinux.org/index.php/Wireless_Setup_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" target="_blank" rel="external">Wireless Setup</a>和<a href="https://wiki.archlinux.org/index.php/Broadcom_wireless" target="_blank" rel="external">Broadcom wireless</a>的wiki（Arch的Wiki真的是详尽啊），尝试安装不同的驱动和模块，各种重启，最后发现还是自带的<code>b43</code>模块管用。我用的桌面环境时xfce4,然后又安装<a href="https://wiki.archlinux.org/index.php/Wicd_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87" target="_blank" rel="external"><code>wicd</code></a>) 和 <code>wicd-gtk</code>搞定网络管理。</p>
<p>终于可以happy的用了。</p>
</div><div class="post-footer">Updated on 16/07/10</div></div><div class="post-nav"><div style="height: 0; width: 0; position: absolute; visibility: hidden">
  <!-- inject:svg --><svg xmlns="http://www.w3.org/2000/svg"><symbol id="ic_chevron_left_white_24px" viewBox="0 0 24 24">
    <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</symbol><symbol id="ic_chevron_right_white_24px" viewBox="0 0 24 24">
    <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</symbol></svg><!-- endinjected -->
</div><a href="/2013/lost_my_phone/" class="nav prev"><svg class="icon left"><use xlink:href="#ic_chevron_left_white_24px"></use></svg>PREVIOUS</a><a href="/test/test/" class="nav next">NEXT<svg class="icon right"><use xlink:href="#ic_chevron_right_white_24px"></use></svg></a></div></section><footer><h3>Carlog</h3><div class="additional"><span>&copy;</span> 2016 <a href="http://hanhaishan.com">Haishan</a><br> Powered by <a href="https://hexo.io">Hexo</a>, theme using <a href="https://github.com/haishanh/hexo-theme-zxcvb">zxcvb</a>, hosted by <a href="https://github.com/haishanh/blog/tree/gh-pages">Github Pages</a></div></footer><script src="/js/script.js"></script></body></html>